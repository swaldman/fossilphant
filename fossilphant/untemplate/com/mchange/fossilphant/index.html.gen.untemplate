import com.mchange.fossilphant.*

val context = locatedContext.context

val text =
  context.reverseChronologicalPublicPosts
    .filterNot(_.inReplyTo.isInstanceOf[InReplyTo.Self])
    .map(post => threadOrPost(LocatedPostWithContext(post, locatedContext), true))
    .mkString("\n")

val title = context.mainTitle
val tagline = context.config.mainTagline.getOrElse("")

(locatedContext : LocatedContext)[]~()>

<( layout_main_html( locatedContext.siteRootedLocation, title, tagline, text ) )>
